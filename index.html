<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Notícias do Mundo Online</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: Arial, sans-serif; background:#f4f7fa; color:#333; }

  header {
    background:#007bff;
    color:white;
    padding:20px;
    text-align:center;
    position:sticky;
    top:0;
    z-index:1000;
    box-shadow:0 2px 5px rgba(0,0,0,0.2);
  }

  nav { display:flex; justify-content:center; background:#0056b3; }
  nav a { color:white; padding:15px 20px; text-decoration:none; transition:0.3s; }
  nav a:hover { background:#004080; }

  .slideshow-container {
    position: relative; max-width: 1000px; margin: 20px auto;
    overflow: hidden; border-radius: 10px; box-shadow:0 5px 15px rgba(0,0,0,0.2);
  }
  .slide { display: none; width: 100%; position: relative; }
  .slide img { width:100%; display:block; }
  .slide h2 { position:absolute; bottom:20px; left:20px; color:white; background:rgba(0,0,0,0.5);
    padding:10px 15px; border-radius:6px; }

  .container { max-width:1000px; margin:20px auto; padding:0 20px; }
  .filtro { text-align:center; margin-bottom:20px; }
  .filtro button {
    padding:10px 20px; margin:0 5px; border:none; border-radius:6px;
    background:#007bff; color:white; cursor:pointer; transition:0.3s;
  }
  .filtro button:hover { background:#0056b3; }

  .noticias { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .card {
    background:white; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.1);
    width:300px; overflow:hidden; display:flex; flex-direction:column;
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .card:hover { transform: translateY(-5px); box-shadow:0 10px 20px rgba(0,0,0,0.2); }
  .card img { width:100%; height:180px; object-fit:cover; }
  .card-content { padding:15px; flex:1; display:flex; flex-direction:column; }
  .card-content h3 { margin-bottom:10px; color:#007bff; font-size:16px; }
  .card-content p { flex:1; font-size:14px; margin-bottom:10px; }
  .card-content button {
    padding:8px 15px; border:none; border-radius:6px;
    background:#28a745; color:white; cursor:pointer;
  }
  .card-content button:hover { background:#1e7e34; }

  .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:2000; }
  .modal-content {
    background:white; padding:20px; border-radius:10px; max-width:600px;
    width:90%; max-height:80%; overflow-y:auto; position:relative;
  }
  .close-btn { position:absolute; top:10px; right:15px; font-size:25px; font-weight:bold;
    color:#333; cursor:pointer; }

  footer { background:#333; color:white; text-align:center; padding:20px 0; margin-top:20px; }
</style>
</head>
<body>

<header>
  <h1>Notícias do Mundo</h1>
</header>

<nav>
  <a href="#slideshow">Destaques</a>
  <a href="#noticias">Notícias</a>
  <a href="#filtro">Filtrar</a>
</nav>

<!-- SLIDESHOW -->
<div class="slideshow-container" id="slideshow">
  <div class="slide">
    <img src="https://source.unsplash.com/1000x400/?world,news" alt="Destaque 1">
    <h2>Destaque Mundial</h2>
  </div>
  <div class="slide">
    <img src="https://source.unsplash.com/1000x400/?politics" alt="Destaque 2">
    <h2>Destaque Política</h2>
  </div>
  <div class="slide">
    <img src="https://source.unsplash.com/1000x400/?technology" alt="Destaque 3">
    <h2>Destaque Tecnologia</h2>
  </div>
</div>

<div class="container">
  <div class="filtro" id="filtro">
    <button onclick="filtrar('todas')">Todas</button>
    <button onclick="filtrar('mundial')">Mundial</button>
    <button onclick="filtrar('politics')">Política</button>
    <button onclick="filtrar('technology')">Tecnologia</button>
  </div>

  <div class="noticias" id="noticias">
    <p>Carregando notícias...</p>
  </div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="fecharModal()">&times;</span>
    <p id="modal-text"></p>
  </div>
</div>

<footer>
  <p>Notícias do Mundo © 2025</p>
</footer>

<script>
  // SLIDESHOW
  let slideIndex = 0;
  function showSlides() {
    const slides = document.querySelectorAll('.slide');
    slides.forEach(s => s.style.display = 'none');
    slideIndex++;
    if(slideIndex > slides.length) slideIndex = 1;
    slides[slideIndex-1].style.display = 'block';
    setTimeout(showSlides, 4000);
  }
  showSlides();

  // MODAL
  function abrirModal(texto) {
    document.getElementById('modal-text').textContent = texto;
    document.getElementById('modal').style.display = 'flex';
  }
  function fecharModal() {
    document.getElementById('modal').style.display = 'none';
  }

  // FILTRO
  function filtrar(categoria) {
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
      if(categoria === 'todas' || card.dataset.categoria === categoria){
        card.style.display = 'flex';
      } else {
        card.style.display = 'none';
      }
    });
  }

  // API NEWS via AllOrigins para contornar CORS
  const apiKey = "7a1f9e9a5268475a85f89d6044a0ceb9";
  const noticiasContainer = document.getElementById("noticias");

  async function carregarNoticias() {
    try {
      const url = `https://newsapi.org/v2/top-headlines?language=pt&pageSize=9&apiKey=${apiKey}`;
      const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`;
      const res = await fetch(proxyUrl);
      const dataWrapped = await res.json();
      const data = JSON.parse(dataWrapped.contents);

      noticiasContainer.innerHTML = "";
      data.articles.forEach(article => {
        const card = document.createElement("div");
        card.className = "card";
        card.dataset.categoria = "mundial";

        const img = document.createElement("img");
        img.src = article.urlToImage || "https://source.unsplash.com/300x180/?news";
        img.alt = article.title;

        const content = document.createElement("div");
        content.className = "card-content";

        const title = document.createElement("h3");
        title.textContent = article.title;

        const desc = document.createElement("p");
        desc.textContent = article.description || "Resumo indisponível.";

        const btn = document.createElement("button");
        btn.textContent = "Ler mais";
        btn.onclick = () => abrirModal(article.content || article.description || article.title);

        content.appendChild(title);
        content.appendChild(desc);
        content.appendChild(btn);

        card.appendChild(img);
        card.appendChild(content);

        noticiasContainer.appendChild(card);
      });
    } catch(err) {
      console.error(err);
      noticiasContainer.innerHTML = "<p>Não foi possível carregar notícias.</p>";
    }
  }

  carregarNoticias();
</script>

</body>
</html>
